<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>HydroSync Dashboard</title>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;600;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="/public/style.css">
    <script type="module" src="/public/main.js"></script>
</head>
<body>
    <header class="header">
        <h1>HydroSync</h1>
        <p>IoT Water Management System</p>
    </header>

    <div class="dashboard-container">
        <div id="waterPanel" class="panel water-panel">
            <div id="waterMonitorStatus" class="device-status-indicator">Offline</div>
            <div class="panel__header">
                <svg class="panel__icon" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor"><path d="M12 2.25c-5.385 0-9.75 4.365-9.75 9.75s4.365 9.75 9.75 9.75 9.75-4.365 9.75-9.75S17.385 2.25 12 2.25Zm0 1.5a8.25 8.25 0 0 1 8.25 8.25c0 1.983-.703 3.82-1.875 5.25a.75.75 0 0 1-1.06-1.06 6.75 6.75 0 0 0-10.632 0 .75.75 0 0 1-1.06 1.06A8.22 8.22 0 0 1 3.75 12 8.25 8.25 0 0 1 12 3.75Z"/></svg>
                <h2 class="panel__title">Water Tank Status</h2>
            </div>
            <div class="tank-visualization">
                <div class="tank">
                    <div class="tank__water" id="waterLevel">
                        <div class="tank__water-wave"></div>
                        <div class="tank__water-wave"></div>
                    </div>
                    <div class="tank__bubbles" id="bubblesContainer"></div>
                </div>
                <div class="tank-info">
                    <div class="tank-info__level-percent" id="waterLevelPercent">--%</div>
                </div>
            </div>
            <div class="status-list">
                <div class="status-item"><span class="status-item__label">Water Level</span><span class="status-item__value" id="waterLevelStatus">N/A</span></div>
                <div class="status-item"><span class="status-item__label">Temperature</span><span class="status-item__value" id="waterTempStatus">N/A</span></div>
                <div class="status-item"><span class="status-item__label">Last Update</span><span class="status-item__value" id="waterLastUpdate">Never</span></div>
            </div>
        </div>

        <div id="motorPanel" class="panel motor-panel">
            <div id="motorControllerStatus" class="device-status-indicator">Offline</div>
            <div class="panel__header">
                <svg class="panel__icon" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor"><path fill-rule="evenodd" d="M11.078 2.25c-.917 0-1.699.663-1.85 1.567L9.05 5.438a.75.75 0 0 0 .634.893l.3.053a.75.75 0 0 1 .634.893l-.173 1.04a.75.75 0 0 0 .33.832l.3.173a.75.75 0 0 1 .33.832l-.173 1.04a.75.75 0 0 0 .33.832l.3.173a.75.75 0 0 1 .33.832l-.173 1.04a.75.75 0 0 0 .33.832l.3.173a.75.75 0 0 1 .33.832l-.173 1.04a.75.75 0 0 0 .634.893l.3.053a.75.75 0 0 1 .634.893l-1.732 1.04a1.875 1.875 0 0 1-1.85 1.567h-1.156a1.875 1.875 0 0 1-1.85-1.567L6.05 16.562a.75.75 0 0 0-.634-.893l-.3-.053a.75.75 0 0 1-.634-.893l.173-1.04a.75.75 0 0 0-.33-.832l-.3-.173a.75.75 0 0 1-.33-.832l.173-1.04a.75.75 0 0 0-.33-.832l-.3-.173a.75.75 0 0 1-.33-.832l.173-1.04a.75.75 0 0 0-.33-.832l-.3-.173a.75.75 0 0 1-.33-.832l.173-1.04a.75.75 0 0 0-.634-.893l-.3-.053a.75.75 0 0 1-.634-.893L5.95 3.817a1.875 1.875 0 0 1 1.85-1.567h1.156Z" clip-rule="evenodd" /><path d="M13.26 21.75a.75.75 0 0 1 .75-.75h4.5a.75.75 0 0 1 0 1.5h-4.5a.75.75 0 0 1-.75-.75Z" /></svg>
                <h2 class="panel__title">Motor Control</h2>
            </div>
            <div class="status-list">
                <div class="status-item"><span class="status-item__label">System Status</span><span class="status-item__value" id="systemStatus">--</span></div>
                <div class="status-item"><span class="status-item__label">Motor State</span><span class="status-item__value" id="motorStatus">UNKNOWN</span></div>
                <div class="status-item"><span class="status-item__label">Mode</span><span class="status-item__value" id="motorMode">--</span></div>
                <div class="status-item"><span class="status-item__label">Session ON Time</span><span class="status-item__value" id="currentOnTime">--</span></div>
                <div class="status-item"><span class="status-item__label">Last Update</span><span class="status-item__value" id="motorLastUpdate">Never</span></div>
            </div>
            <div class="button-group" id="controlButtons">
                <button class="btn btn--on" data-command="on">Manual ON</button>
                <button class="btn btn--off" data-command="off">Manual OFF</button>
            </div>
        </div>
    </div>

    <div id="toast" class="toast-notification"></div>

</body>
</html>